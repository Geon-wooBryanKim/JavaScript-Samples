<!doctype html>
<html>
<style>
   .border { border:solid 1px black; display: block; }
   #outer { width:300px; height:300px; background-color: lightskyblue; }
   #inner { width:150px; height:150px; background-color: darkblue; margin: 50px auto; }
</style>
<script src="jquery.min.js"></script>
<script>
   $(document).ready(function() {
      var propagation = true;
      
      $('#outer').on('click', function() {
         console.log('outer click');
      });
      
      $('#inner').on('click', function(event) {
         console.log('inner click');
         if ( !propagation )
            event.stopPropagation();
      });
      $('#check').on('change', function() {
           propagation = $('#check').checked;           
      });
   });
   // window.onload = function() {
   //    var outer = document.getElementById('outer');
   //    var inner = document.getElementById('inner');
      
   //    var propagation = true;
      
   //    outer.addEventListener('click', function(event) {
   //       console.log('outer click');
   //    });     
      
   //    inner.addEventListener('click', function(event) {
   //       console.log('inner click');
   //       if ( !propagation )
   //          event.stopPropagation();
   //    });
      
   //    var check = document.getElementById('check');
   //    check.addEventListener('change', function(e) {
   //       console.log('change ', check.checked);
   //       propagation = check.checked;
   //    });
   // }
</script>     
<body>
   <div>
      <input type="checkbox" id="check" checked>Propagation</input>
   </div>

   <div id="outer" class="border">
      <div id="inner" class="border">         
      </div>
   </div>
   
   
</body>   
</html>